/* Misura della riga e ritmo verticale */
.quarto-container .page-layout-article .content {
  max-width: 72ch;
  line-height: 1.55;
}

/* Sillabazione soft (in italiano funziona bene) */
.content p,
.content li,
.content blockquote {
  hyphens: auto;
  -webkit-hyphens: auto;
  -ms-hyphens: auto;
}

/* Vedove e orfani (supporto parziale, ma utile) */
.content p { orphans: 3; widows: 3; }

/* Leggibilità e kerning */
/* html { text-rendering: optimizeLegibility; font-kerning: normal; } */

/* Numeri vecchio stile + proporzionali, small caps “vere” */
body {
  font-variant-numeric: oldstyle-nums proportional-nums;
  font-variant-caps: normal;
}

/* Corsivi più “morbidi”: evita bold eccessivo */
strong { font-weight: 600; }

/* Small caps dedicate */
.sc { font-variant-caps: small-caps; letter-spacing: 0.02em; }

/* Link con sottolineatura elegante */
a {
  text-decoration-thickness: 0.08em;
  text-underline-offset: 0.15em;
  text-decoration-skip-ink: auto;
}

/* Capoverso d’ingresso “incipit” con capolettera (facoltativo, stile classico) */
.lead:first-letter,
p.dropcap:first-letter {
  float: left;
  font-size: 3.1em;
  line-height: 0.85;
  margin-right: 0.08em;
  font-feature-settings: "onum" 1, "liga" 1;
}

/* Citazioni più classiche */
blockquote {
  font-style: italic;
  padding-left: 1.2rem;
  border-left: 2px solid currentColor;
  opacity: 0.95;
}

/* Tabelle sobrie e figure “da manuale” */
table {
  border-collapse: collapse;
  font-variant-numeric: tabular-nums; /* allinei numeri */
}
table th, table td { padding: 0.4rem 0.6rem; }
figcaption {
  font-size: 0.95em;
  font-style: italic;
  margin-top: 0.2rem;
}

/* Punteggiatura sospesa (hanging punctuation) quando supportata */
.content {
  hanging-punctuation: first allow-end;
}

/* Evita che titoli vadano in fondo pagina da soli in stampa */
@media print {
  h2, h3, h4 { break-after: avoid; break-inside: avoid; }
  figure, table { break-inside: avoid; }
}

/* Capolettera: copre lead, p.dropcap e div.dropcap */
.lead:first-letter,
p.dropcap:first-letter,
.dropcap:first-letter {
  float: left;
  font-size: 3.1em;
  line-height: 0.85;
  margin-right: 0.08em;
  font-feature-settings: "onum" 1, "liga" 1;
}

/* Zona sicura per MathJax v3 */
mjx-container,
mjx-container * {
  hyphens: none !important;
  hanging-punctuation: none !important;
  font-variant-numeric: normal !important;
  font-kerning: auto !important;
  letter-spacing: 0 !important;
  text-rendering: auto !important;
  line-height: normal !important;
}
mjx-container { text-rendering: optimizeSpeed !important; }
mjx-container svg {
  text-rendering: optimizeSpeed !important;
  shape-rendering: geometricPrecision !important;
}
mjx-container svg text { letter-spacing: 0 !important; }


/* Aggiusta lo spazio quando c'è un simbolo con subscript seguito da "(" */
mjx-msub + mjx-mo[texclass="OPEN"],
mjx-msubsup + mjx-mo[texclass="OPEN"],
mjx-munderover + mjx-mo[texclass="OPEN"] {
  margin-left: 0.08em; /* prova 0.06–0.10em a gusto */
}

/* Match anche via data-mml-node per compatibilità futura */
mjx-container [data-mml-node="msub"] + mjx-mo[texclass="OPEN"],
mjx-container [data-mml-node="msubsup"] + mjx-mo[texclass="OPEN"] {
  margin-left: 0.08em;
}

/* Variante: anche quando c'è una parentesi "stretchy" (es. \left() ) */
mjx-msub + mjx-mo[stretchy="true"],
mjx-msubsup + mjx-mo[stretchy="true"],
mjx-munderover + mjx-mo[stretchy="true"] {
  margin-left: 0.08em;
}

/* Niente sillabazione nel codice */
pre, code, kbd, samp {
  hyphens: none;
  -webkit-hyphens: none;
  -ms-hyphens: none;
}

